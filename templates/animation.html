<html>
<head>
	<script src="script/scoring.js"></script>
	<script src="script/staticCircles.js"></script>
    <script src="script/beat.js"></script>
  	<script src="script/rhythm.js"></script>
  	<script src="script/song.js"></script>
  	<script src="script/circle.js"></script>
  	<script src="script/setup.js"></script>
    <script src="script/load.js"></script>
  	<script src="script/main.js"></script>
	<link rel="stylesheet" type="text/css" href="style/game.css">
	<link rel="stylesheet" type="text/css" href="style/tree.css">

</head>
<body>

<canvas id="metronome" width="30" height="30" style="border:1px solid #000000;"></canvas>

<div id="container" >
	<div id="nav" class="side-pane">
	<ul>
		<li><input type="checkbox" id="item-0" /><label for="item-0">This Folder is Closed By Default</label>
			<ul>
				<li><input type="checkbox" id="item-0-0" /><label for="item-0-0">Ooops! A Nested Folder</label>
					<ul>
						<li><input type="checkbox" id="item-0-0-0" /><label for="item-0-0-0">Look Ma - No Hands!</label>
							<ul>
								<li><a href="./">First Nested Item</a></li>
								<li><a href="./">Second Nested Item</a></li>
								<li><a href="./">Third Nested Item</a></li>
								<li><a href="./">Fourth Nested Item</a></li>
							</ul>
						</li>
						<li><a href="./">Item 1</a></li>
						<li><a href="./">Item 2</a></li>
						<li><a href="./">Item 3</a></li>
					</ul>
				</li>
				<li><input type="checkbox" id="item-0-1" /><label for="item-0-1">Yet Another One</label>
					<ul>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
					</ul>
				</li>
				<li><input type="checkbox" id="item-0-2" disabled="disabled" /><label for="item-0-2">Disabled Nested Items</label>
					<ul>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
					</ul>
				</li>
				<li><a href="./">item</a></li>
				<li><a href="./">item</a></li>
				<li><a href="./">item</a></li>
				<li><a href="./">item</a></li>
			</ul>
		</li>
		<li><input type="checkbox" id="item-1" checked="checked" /><label for="item-1">This One is Open by Default...</label>
			<ul>
				<li><input type="checkbox" id="item-1-0" /><label for="item-1-0">And Contains More Nested Items...</label>
					<ul>
						<li><a href="./">Look Ma - No Hands</a></li>
						<li><a href="./">Another Item</a></li>
						<li><a href="./">And Yet Another</a></li>
					</ul>
				</li>
				<li><a href="./">Lorem</a></li>
				<li><a href="./">Ipsum</a></li>
				<li><a href="./">Dolor</a></li>
				<li><a href="./">Sit Amet</a></li>
			</ul>
		</li>
		<li><input type="checkbox" id="item-2" /><label for="item-2">Can You Believe...</label>
			<ul>
				<li><input type="checkbox" id="item-2-0" /><label for="item-2-0">That This Treeview...</label>
					<ul>
						<li><input type="checkbox" id="item-2-2-0" /><label for="item-2-2-0">Does Not Use Any JavaScript...</label>
							<ul>
								<li><a href="./">But Relies Only</a></li>
								<li><a href="./">On the Power</a></li>
								<li><a href="./">Of CSS3</a></li>
							</ul>
						</li>
						<li><a href="./">Item 1</a></li>
						<li><a href="./">Item 2</a></li>
						<li><a href="./">Item 3</a></li>
					</ul>
				</li>
				<li><input type="checkbox" id="item-2-1" /><label for="item-2-1">This is a Folder With...</label>
					<ul>
						<li><a href="./">Some Nested Items...</a></li>
						<li><a href="./">Some Nested Items...</a></li>
						<li><a href="./">Some Nested Items...</a></li>
						<li><a href="./">Some Nested Items...</a></li>
						<li><a href="./">Some Nested Items...</a></li>
					</ul>
				</li>
				<li><input type="checkbox" id="item-2-2" disabled="disabled" /><label for="item-2-2">Disabled Nested Items</label>
					<ul>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
						<li><a href="./">item</a></li>
					</ul>
				</li>
			</ul>
		</li>
	</ul>
	
	</div>
		<!-- <img> -->
		<canvas id="game" width="600" height="400" style="border:1px solid #000000; background-color:#ffffff;">
		</canvas>
	<div id="score-pane" class="side-pane" >
		<p> Last key pressed: </p><p id="keypressed">none</p>
		<p> Update: </p><p id="update" style="color:green;">0</p>
		<p> Score: </p>  <p id="score">0</p>
	</div>

</div>

</body>
<script> 


map_key_track = {"113":0, "119":1, "101":2, "114":3, "116":4, "121":5};
map_track_key = ["113", "119", "101", "114", "116", "121"];
// TO DO: albert munsell color scale matched on grey of background
map_track_color = ['#44d735', '#d73535', '#3572d7', '#ded526', '#28a330', '#d78135'];
map_track_sound = [];

playbackSound = null;
backgroundsong = null;

audio = [];
soundIndex = [];
var score = 0;
var error_range = 200;
var time_position = 350
var time = 0;

var d = document;

// We get the canvas in which the game is displayed:
var c = d.getElementById("game");
var ctx = c.getContext("2d");
ctx.fillText("LOADING...", 0, 50);

var new_song = null;
var counter = 0; 
var metronome_state = 1;
var m = null;
var metronome = null;
var lastTime = 0;
var start_metronome = 0;
var metronome_speed = 0;
var staticCircle = null;

loadGameElements(0, "song/{{song}}");


  </script>
</html>